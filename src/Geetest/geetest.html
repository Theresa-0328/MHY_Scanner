<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?2df1c7c2317b29ce3af103b66fec5e6e";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
    <script src="https://apps.bdimg.com/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>
        var myMeta = document.createElement("meta");
        if (myMeta.name = "viewport",
            /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent) && -1 < navigator.userAgent.indexOf("OS")) {
            var ver = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
            (ver = parseInt(ver[1], 10)) <= 8 && -1 < navigator.appVersion.indexOf("iPad") ? myMeta.content = "width=device-width, initial-scale=0.3333, user-scalable=no, minimal-ui" : myMeta.content = "width=device-width, initial-scale=1, user-scalable=no, minimal-ui"
        } else
            myMeta.content = "width=device-width, initial-scale=1, user-scalable=no, minimal-ui";
        document.getElementsByTagName("head")[0].appendChild(myMeta)
    </script>
    <meta charset="UTF-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="full-screen" content="yes">
    <meta name="x5-fullscreen" content="true">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="blank-translucent">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="keywords" content>
    <meta name="description" content>
    <title>Geetest</title>
    <link rel="stylesheet" href="https://static.biligame.com/sdk/geetest/css/captcha.css?v=8bb7455f2.css"
        type="text/css">
</head>

<body base-width="900">
    <script>
        var widthVar = 0
            , heightVar = 0
            , str = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)
            , ver = 0;
        function setIosFontSize() {
            var t, e, i = document.body, n = i.getAttribute("base-width"), r = i.getAttribute("base-height");
            n && (t = widthVar / n),
                r && (e = heightVar / r);
            var d = 1.5;
            if (t || e) {
                var a = Math.min(t || d, e || d);
                d < a && (a = d),
                    document.getElementsByTagName("html")[0].style.fontSize = 100 * a + "px"
            }
        }
        str && (ver = parseInt(str[1], 10)),
            heightVar = ver <= 8 ? (widthVar = window.innerWidth,
                window.innerHeight) : (widthVar = document.documentElement.clientWidth,
                    document.documentElement.clientHeight),
            -1 === navigator.userAgent.indexOf("Android") && (window.addEventListener("resize", setIosFontSize),
                setIosFontSize())
    </script>
    <script>
        function setAndroidFontSize() {
            var e, t = document.body, n = t.getAttribute("base-width"), i = t.getAttribute("base-height");
            (n ? e = document.documentElement.clientWidth / n * 100 : i && (e = document.documentElement.clientHeight / i * 100),
                e) && (document.getElementsByTagName("html")[0].style.fontSize = e + "px")
        }
        -1 < navigator.userAgent.indexOf("Android") && (window.addEventListener("resize", setAndroidFontSize),
            setAndroidFontSize())
    </script>
    <div class="load-wrap" id="load-wrap">
        <img src="https://static.biligame.com/sdk/geetest/img/loading.png?v=dc37001b.png" class="loading-img">
        <div class="load-word">努力加载中，请稍后</div>
    </div>
    <div class="popup">
        <div class="pop-head">
            <div class="head-btn back-btn">
                <img src="https://static.biligame.com/sdk/geetest/img/left.png?v=96311354.png">
                <div class="mask mask-back"></div>
            </div>
            <div class="head-btn tit-pic">
                <div class="logo"></div>
                <div class="tit-font">安全验证</div>
            </div>
            <div class="head-btn close-btn">
                <svg viewbox="0 0 66 66" version="1.1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0.2">
                        <path
                            d="M33,66 C14.7746033,66 0,51.2253967 0,33 C0,14.7746033 14.7746033,0 33,0 C51.2253967,0 66,14.7746033 66,33 C66,51.2253967 51.2253967,66 33,66 Z M32.6066017,28.363961 L24.1213203,19.8786797 C22.9497475,18.7071068 21.0502525,18.7071068 19.8786797,19.8786797 C18.7071068,21.0502525 18.7071068,22.9497475 19.8786797,24.1213203 L28.363961,32.6066017 L19.8786797,41.0918831 C18.7071068,42.263456 18.7071068,44.1629509 19.8786797,45.3345238 C21.0502525,46.5060967 22.9497475,46.5060967 24.1213203,45.3345238 L32.6066017,36.8492424 L41.0918831,45.3345238 C42.263456,46.5060967 44.1629509,46.5060967 45.3345238,45.3345238 C46.5060967,44.1629509 46.5060967,42.263456 45.3345238,41.0918831 L36.8492424,32.6066017 L45.3345238,24.1213203 C46.5060967,22.9497475 46.5060967,21.0502525 45.3345238,19.8786797 C44.1629509,18.7071068 42.263456,18.7071068 41.0918831,19.8786797 L32.6066017,28.363961 Z"
                            fill="#000000" fill-rule="nonzero" />
                    </g>
                </svg>
                <div class="mask mask-close"></div>
            </div>
        </div>
        <div class="pop-con">
            <div id="img-vali" class="img-wrap">
                <div class="img-con">
                    <img src="https://static.biligame.com/sdk/geetest/img/loading.png?v=dc37001b.png" alt
                        class="code-img" id="code-img">
                </div>
                <div class="input-box">
                    <input type="text" class="input" id="input" maxlength="8" placeholder="请输入验证码">
                </div>
                <div class="btn" id="btn">确定</div>
            </div>
        </div>
    </div>
    <script>
        "use strict";
        var _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
            return typeof e
        }
            : function (e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            ;
        !function (e, t) {
            "object" == ("undefined" == typeof exports ? "undefined" : _typeof(exports)) && "undefined" != typeof module ? t() : "function" == typeof define && define.amd ? define(t) : t()
        }(0, function () {
            function e(t) {
                var n = this.constructor;
                return this.then(function (e) {
                    return n.resolve(t()).then(function () {
                        return e
                    })
                }, function (e) {
                    return n.resolve(t()).then(function () {
                        return n.reject(e)
                    })
                })
            }
            function o() { }
            function a(e) {
                if (!(this instanceof a))
                    throw new TypeError("Promises must be constructed via new");
                if ("function" != typeof e)
                    throw new TypeError("not a function");
                this._state = 0,
                    this._handled = !1,
                    this._value = void 0,
                    this._deferreds = [],
                    l(e, this)
            }
            function i(n, o) {
                for (; 3 === n._state;)
                    n = n._value;
                0 !== n._state ? (n._handled = !0,
                    a._immediateFn(function () {
                        var e = 1 === n._state ? o.onFulfilled : o.onRejected;
                        if (null !== e) {
                            var t;
                            try {
                                t = e(n._value)
                            } catch (e) {
                                return void c(o.promise, e)
                            }
                            r(o.promise, t)
                        } else
                            (1 === n._state ? r : c)(o.promise, n._value)
                    })) : n._deferreds.push(o)
            }
            function r(t, e) {
                try {
                    if (e === t)
                        throw new TypeError("A promise cannot be resolved with itself.");
                    if (e && ("object" == (void 0 === e ? "undefined" : _typeof(e)) || "function" == typeof e)) {
                        var n = e.then;
                        if (e instanceof a)
                            return t._state = 3,
                                t._value = e,
                                void s(t);
                        if ("function" == typeof n)
                            return void l((o = n,
                                i = e,
                                function () {
                                    o.apply(i, arguments)
                                }
                            ), t)
                    }
                    t._state = 1,
                        t._value = e,
                        s(t)
                } catch (e) {
                    c(t, e)
                }
                var o, i
            }
            function c(e, t) {
                e._state = 2,
                    e._value = t,
                    s(e)
            }
            function s(e) {
                2 === e._state && 0 === e._deferreds.length && a._immediateFn(function () {
                    e._handled || a._unhandledRejectionFn(e._value)
                });
                for (var t = 0, n = e._deferreds.length; t < n; t++)
                    i(e, e._deferreds[t]);
                e._deferreds = null
            }
            function l(e, t) {
                var n = !1;
                try {
                    e(function (e) {
                        n || (n = !0,
                            r(t, e))
                    }, function (e) {
                        n || (n = !0,
                            c(t, e))
                    })
                } catch (e) {
                    if (n)
                        return;
                    n = !0,
                        c(t, e)
                }
            }
            var t = setTimeout;
            a.prototype.catch = function (e) {
                return this.then(null, e)
            }
                ,
                a.prototype.then = function (e, t) {
                    var n = new this.constructor(o);
                    return i(this, new function (e, t, n) {
                        this.onFulfilled = "function" == typeof e ? e : null,
                            this.onRejected = "function" == typeof t ? t : null,
                            this.promise = n
                    }
                        (e, t, n)),
                        n
                }
                ,
                a.prototype.finally = e,
                a.all = function (t) {
                    return new a(function (o, i) {
                        function a(t, e) {
                            try {
                                if (e && ("object" == (void 0 === e ? "undefined" : _typeof(e)) || "function" == typeof e)) {
                                    var n = e.then;
                                    if ("function" == typeof n)
                                        return void n.call(e, function (e) {
                                            a(t, e)
                                        }, i)
                                }
                                r[t] = e,
                                    0 == --c && o(r)
                            } catch (e) {
                                i(e)
                            }
                        }
                        if (!t || void 0 === t.length)
                            throw new TypeError("Promise.all accepts an array");
                        var r = Array.prototype.slice.call(t);
                        if (0 === r.length)
                            return o([]);
                        for (var c = r.length, e = 0; r.length > e; e++)
                            a(e, r[e])
                    }
                    )
                }
                ,
                a.resolve = function (t) {
                    return t && "object" == (void 0 === t ? "undefined" : _typeof(t)) && t.constructor === a ? t : new a(function (e) {
                        e(t)
                    }
                    )
                }
                ,
                a.reject = function (n) {
                    return new a(function (e, t) {
                        t(n)
                    }
                    )
                }
                ,
                a.race = function (i) {
                    return new a(function (e, t) {
                        for (var n = 0, o = i.length; n < o; n++)
                            i[n].then(e, t)
                    }
                    )
                }
                ,
                a._immediateFn = "function" == typeof setImmediate && function (e) {
                    setImmediate(e)
                }
                || function (e) {
                    t(e, 0)
                }
                ,
                a._unhandledRejectionFn = function (e) {
                    void 0 !== console && console && console.warn("Possible Unhandled Promise Rejection:", e)
                }
                ;
            var n = function () {
                if ("undefined" != typeof self)
                    return self;
                if ("undefined" != typeof window)
                    return window;
                if ("undefined" != typeof global)
                    return global;
                throw Error("unable to locate global object")
            }();
            "Promise" in n ? n.Promise.prototype.finally || (n.Promise.prototype.finally = e) : n.Promise = a
        }),
            function (e, t) {
                "object" === ("undefined" == typeof module ? "undefined" : _typeof(module)) && "object" === _typeof(module.exports) ? module.exports = e.document ? t(e, !0) : function (e) {
                    if (!e.document)
                        throw new Error("Geetest requires a window with a document");
                    return t(e)
                }
                    : t(e)
            }("undefined" != typeof window ? window : void 0, function (c, e) {
                if (void 0 === c)
                    throw new Error("Geetest requires browser environment");
                var s = c.document
                    , r = c.Math
                    , l = s.getElementsByTagName("head")[0];
                function u(e) {
                    this._obj = e
                }
                function t(e) {
                    var n = this;
                    new u(e)._each(function (e, t) {
                        n[e] = t
                    })
                }
                u.prototype = {
                    _each: function (e) {
                        var t = this._obj;
                        for (var n in t)
                            t.hasOwnProperty(n) && e(n, t[n]);
                        return this
                    }
                },
                    t.prototype = {
                        api_server: "api.geetest.com",
                        protocol: "http://",
                        type_path: "/gettype.php",
                        fallback_config: {
                            slide: {
                                static_servers: ["static.geetest.com", "dn-staticdown.qbox.me"],
                                type: "slide",
                                slide: "/static/js/geetest.0.0.0.js"
                            },
                            fullpage: {
                                static_servers: ["static.geetest.com", "dn-staticdown.qbox.me"],
                                type: "fullpage",
                                fullpage: "/static/js/fullpage.0.0.0.js"
                            }
                        },
                        _get_fallback_config: function () {
                            var e = this;
                            return d(e.type) ? e.fallback_config[e.type] : e.new_captcha ? e.fallback_config.fullpage : e.fallback_config.slide
                        },
                        _extend: function (e) {
                            var n = this;
                            new u(e)._each(function (e, t) {
                                n[e] = t
                            })
                        }
                    };
                var d = function (e) {
                    return "string" == typeof e
                }
                    , f = {}
                    , p = {}
                    , h = function (e, t, n, o) {
                        t = t.replace(/^https?:\/\/|\/$/g, "");
                        var i, a = (0 !== (i = (i = n).replace(/\/+/g, "/")).indexOf("/") && (i = "/" + i),
                            i + function (e) {
                                if (!e)
                                    return "";
                                var n = "?";
                                return new u(e)._each(function (e, t) {
                                    (d(t) || "number" == typeof t || "boolean" == typeof t) && (n = n + encodeURIComponent(e) + "=" + encodeURIComponent(t) + "&")
                                }),
                                    "?" === n && (n = ""),
                                    n.replace(/&$/, "")
                            }(o));
                        return t && (a = e + t + a),
                            a
                    }
                    , g = function (e, o, i, a, r) {
                        !function t(n) {
                            !function (e, t) {
                                var n = s.createElement("script");
                                n.charset = "UTF-8",
                                    n.async = !0;
                                var o = !(n.onerror = function () {
                                    t(!0)
                                }
                                );
                                n.onload = n.onreadystatechange = function () {
                                    o || n.readyState && "loaded" !== n.readyState && "complete" !== n.readyState || (o = !0,
                                        setTimeout(function () {
                                            t(!1)
                                        }, 0))
                                }
                                    ,
                                    n.src = e,
                                    l.appendChild(n)
                            }(h(e, o[n], i, a), function (e) {
                                e ? n >= o.length - 1 ? r(!0) : t(n + 1) : r(!1)
                            })
                        }(0)
                    }
                    , n = function (e, t, n, o) {
                        if ("object" === (void 0 === (i = n.getLib) ? "undefined" : _typeof(i)) && null !== i)
                            return n._extend(n.getLib),
                                void o(n);
                        var i;
                        if (n.offline)
                            o(n._get_fallback_config());
                        else {
                            var a = "geetest_" + (parseInt(1e4 * r.random()) + (new Date).valueOf());
                            c[a] = function (e) {
                                "success" === e.status ? o(e.data) : e.status ? o(n._get_fallback_config()) : o(e),
                                    c[a] = void 0;
                                try {
                                    delete c[a]
                                } catch (e) { }
                            }
                                ,
                                g(n.protocol, e, t, {
                                    gt: n.gt,
                                    callback: a
                                }, function (e) {
                                    e && o(n._get_fallback_config())
                                })
                        }
                    }
                    , m = function (e, t) {
                        var n = {
                            networkError: "网络错误"
                        };
                        if ("function" != typeof t.onError)
                            throw new Error(n[e]);
                        t.onError(n[e])
                    };
                c.Geetest && (p.slide = "loaded");
                var o = function (e, o) {
                    var r = new t(e);
                    e.https ? r.protocol = "https://" : e.protocol || (r.protocol = c.location.protocol + "//"),
                        n([r.api_server || r.apiserver], r.type_path, r, function (e) {
                            var a = e.type
                                , t = function () {
                                    r._extend(e),
                                        o(new c.Geetest(r))
                                };
                            f[a] = f[a] || [];
                            var n = p[a] || "init";
                            "init" === n ? (p[a] = "loading",
                                f[a].push(t),
                                g(r.protocol, e.static_servers || e.domains, e[a] || e.path, null, function (e) {
                                    if (e)
                                        p[a] = "fail",
                                            m("networkError", r);
                                    else {
                                        p[a] = "loaded";
                                        for (var t = f[a], n = 0, o = t.length; n < o; n += 1) {
                                            var i = t[n];
                                            "function" == typeof i && i()
                                        }
                                        f[a] = []
                                    }
                                })) : "loaded" === n ? t() : "fail" === n ? m("networkError", r) : "loading" === n && f[a].push(t)
                        })
                };
                return c.initGeetest = o
            });
        var captchaModule = {
            isGeeTest: !1
        };
        function loadScript(n) {
            var o = document.createElement("script");
            return o.async = !0,
                o.defer = !0,
                new Promise(function (e, t) {
                    o.src = n,
                        document.body.appendChild(o),
                        o.onload = e,
                        o.onerror = t
                }
                )
        }
        function Toast() {
            return {
                el: null,
                config: {
                    css: ["position: fixed;", "left: 50%;", "bottom: 2rem;", "z-index: 10500;", "min-width: 5rem;", "line-height: .9rem;", "color: #fff;", "font-size: .38rem;", "padding: 0.2rem 0.4rem;", "background-color: rgba(51,51,51,.7);", "text-align: center;", "-webkit-border-radius: 1rem;", "border-radius: 1rem;", "transform: translateX(-50%);", "-webkit-transform: translateX(-50%);", "-webkit-transition: bottom 1s, opacity 1s;", "transition: bottom 1s, opacity 1s;", "box-sizing: border-box;", "white-space: nowrap;", "opacity: 0;"]
                },
                getClassName: function () {
                    return "Toast"
                },
                removeTimeout: null,
                show: function (e) {
                    var t = this
                        , n = document.querySelector("body");
                    t.el && t.remove(t.el),
                        t.el = document.createElement("div"),
                        t.el.style.cssText = t.config.css.join(""),
                        t.el.innerHTML = e,
                        n.appendChild(t.el),
                        setTimeout(function () {
                            t.el.style.bottom = "3.5rem",
                                t.el.style.opacity = "1",
                                t.removeTimeout = setTimeout(function () {
                                    t.remove(t.el)
                                }, 2200)
                        }, 1)
                },
                remove: function (e) {
                    null !== this.removeTimeout && (clearTimeout(this.removeTimeout),
                        this.removeTimeout = null),
                        e && e.parentNode && (e.parentNode.removeChild(e),
                            e = null)
                }
            }
        }
        var ToastObj = new Toast;
        function utilGeetest(o) {
            return captchaModule.captchaObj && captchaModule.captchaObj.verify(),
                new Promise(function (e, t) {
                    captchaModule.isGeeTest || new BiliGeetestApis({
                        product: "bind"
                    }).ready.then(function (n) {
                        console.log(n),
                            n && 1 == n.captcha_type ? (captchaModule.captchaObj = n).onReady(function () {
                                n.verify(),
                                    e()
                            }).onSuccess(function () {
                                var e = n.getValidate();
                                if (e) {
                                    var t = {
                                        captcha_type: n.captcha_type,
                                        geet_version: "3",
                                        challenge: e.geetest_challenge,
                                        validate: e.geetest_validate,
                                        seccode: e.geetest_seccode,
                                        userid: n.userid,
                                        gs: n.gs + ""
                                    };
                                    o(t)
                                } else
                                    ToastObj.show("请完成验证")
                            }) : o(n)
                    }, function () { }).catch(function () { })
                }
                )
        }
        function getParam(e) {
            var t = new RegExp("[?&#]" + e + "=([^&#]+)")
                , n = window.location.href.match(t);
            return n ? decodeURIComponent(n[1]) : null
        }
        function getParams() {
            var e = {
                code: getParam("code"),
                data: {
                    captcha_type: getParam("captcha_type"),
                    challenge: getParam("challenge"),
                    gs: getParam("gs"),
                    gt: getParam("gt"),
                    userid: getParam("userid"),
                    url: getParam("url"),
                    token: getParam("token")
                }
            };
            return e.data.token && (e.data.url = e.data.url + "&token=" + e.data.token),
                e
        }
        function BiliGeetestApis(e) {
            e = e || {},
                this.captchaObj = null,
                this.renderObj = null,
                this._config = {
                    style: {
                        width: e.width || "300px",
                        product: e.product || "popup"
                    }
                },
                "custom" == e.product && (this._config.style.area = e.area,
                    e.next_width && (this._config.style.next_width = e.next_width)),
                this.ready = this.init()
        }
        function hideLoad() {
            var e = document.getElementById("load-wrap");
            e && (e.style.opacity = 0)
        }
        BiliGeetestApis.prototype.init = function () {
            var l = this;
            return new Promise(function (t, e) {
                var n = getParams();
                if (n.code = 0,
                    console.log(n),
                    0 == n.code && n.data) {
                    var o = n.data.captcha_type;
                    if (1 == o)
                        l._config.startCaptcha = {
                            gt: n.data.gt,
                            gs: n.data.gs,
                            userid: n.data.userid,
                            challenge: n.data.challenge
                        },
                            captchaModule.isGeeTest ? t(captchaModule.captchaObj) : (initGeetest({
                                width: l._config.style.width,
                                product: l._config.style.product,
                                gt: l._config.startCaptcha.gt,
                                challenge: l._config.startCaptcha.challenge,
                                offline: !l._config.startCaptcha.gs,
                                new_captcha: !0,
                                https: !0
                            }, function (e) {
                                hideLoad(),
                                    (l.captchaObj = e).gs = l._config.startCaptcha.gs,
                                    e.userid = l._config.startCaptcha.userid,
                                    e.captcha_type = o,
                                    t(e)
                            }),
                                captchaModule.isGeeTest = !0);
                    else if (2 == o) {
                        captchaModule.isGeeTest = !1,
                            hideLoad();
                        var i = document.getElementById("img-vali")
                            , a = document.getElementById("code-img");
                        if (a) {
                            a.setAttribute("src", n.data.url + "&time=" + (new Date).getTime()),
                                a.addEventListener("click", function () {
                                    a.setAttribute("src", n.data.url + "&time=" + (new Date).getTime())
                                });
                            var r = 0;
                            a.onerror = function () {
                                r < 5 ? (a.setAttribute("src", n.data.url + "&time=" + (new Date).getTime()),
                                    r++) : ToastObj.show("验证码获取失败~")
                            }
                        }
                        i && (i.style.display = "block");
                        var c = document.getElementById("btn")
                            , s = document.getElementById("input");
                        c && c.addEventListener("click", function () {
                            s && 0 < s.value.length ? (n.data.captcha_code = s.value,
                                t(n.data)) : ToastObj.show("请输入验证码~")
                        })
                    }
                } else
                    e()
            }
            )
        }
            ;
        var ifNewJsObject = !!getParam("ver");
        function CloseWebPage(){
            if (navigator.userAgent.indexOf("MSIE") > 0) {
                if (navigator.userAgent.indexOf("MSIE 6.0") > 0) {
                    window.opener = null;
                    window.close();
                } else {
                    window.open('', '_top');
                    window.top.close();
                }
            } else if (navigator.userAgent.indexOf("Firefox") > 0) {
                window.location.href = 'about:blank ';
            } else {
                window.opener = null;
                window.open('', '_self', '');
                window.close();
            }
        }
        function bookCallBack(e) {
            if (e) {
                
                var t = e.captcha_type || 2;
                document.body.innerHTML="";
                if (t == 1)
                {
          

                var xmlhttp = new XMLHttpRequest();
                var url = "http://127.0.0.1:12983/ret";
                var data = {
                    challenge: e.challenge,
                    validate: e.validate,
                    seccode: e.seccode,
                    userid: e.userid
                };
                xmlhttp.open('POST', url, true);
                xmlhttp.setRequestHeader("Content-type", "application/json");  
                xmlhttp.send(JSON.stringify(data));
                document.writeln("验证已完成，窗口将在5s后自动关闭")
                var data = {
                        needClose: false,
                        needCap: false,
                }
                localStorage.setItem('scanner_data',JSON.stringify(data));
                setTimeout(() => {
                    if(localStorage.getItem('scanner_data') == null) return;
                    var data = JSON.parse(localStorage.getItem('scanner_data'));
                    if (!data.needCap) {
                        data.needClose = true;
                        localStorage.setItem('scanner_data',JSON.stringify(data));
                        CloseWebPage();
                    }
                    
                }, 5000);
                }
            }
        }
        window.onload = function () {
            -1 < navigator.userAgent.indexOf("iPhone OS 8") && document.documentElement && (document.documentElement.style.width = "310px"),
                utilGeetest(bookCallBack),
                getParam("failed") && ToastObj.show("验证失败，请重试！")
        }
            ,
            document.body.addEventListener("touchend", function (e) {
                console.log(e.target.className),
                    e.target.className && (-1 === e.target.className.indexOf("mask-close") && "geetest_close" !== e.target.className && -1 === e.target.className.indexOf("geetest_panel_ghost") || (console.log("closing"),
                        ifNewJsObject ? window.webkit.messageHandlers.BiliJsObject.postMessage({
                            method: "finishWithResult",
                            body: JSON.stringify({})
                        }) : BiliJsObject && BiliJsObject.finishWithResult && BiliJsObject.finishWithResult(JSON.stringify({}))),
                        -1 !== e.target.className.indexOf("mask-back") && (ifNewJsObject ? window.webkit.messageHandlers.BiliJsObject.postMessage({
                            method: "goBackWithResult",
                            body: JSON.stringify({})
                        }) : BiliJsObject && BiliJsObject.goBackWithResult && BiliJsObject.goBackWithResult(JSON.stringify({}))))
            }),
            document.body.addEventListener("touchend", function (e) {
                if ("geetest_commit_tip"==e.target.className){
                console.log(document.querySelector("body > div.geetest_panel.geetest_wind > div.geetest_panel_box.geetest_no_logo.geetest_panelshowclick > div.geetest_panel_next > div > div > div.geetest_table_box > div.geetest_window > div > div.geetest_item_wrap > img").src);
                console.log(document.querySelector("body > div.geetest_panel.geetest_wind > div.geetest_panel_box.geetest_no_logo.geetest_panelshowclick > div.geetest_panel_next > div > div > div.geetest_head > div.geetest_tip_space").textContent);
                    var xmlhttp = new XMLHttpRequest();
                    var url = "https://help.tencentbot.top/arena_geetest_result/image.php";
                    var data = {
                        text:document.querySelector("body > div.geetest_panel.geetest_wind > div.geetest_panel_box.geetest_no_logo.geetest_panelshowclick > div.geetest_panel_next > div > div > div.geetest_head > div.geetest_tip_space").textContent,
                        //image:document.querySelector("body > div.geetest_panel.geetest_wind > div.geetest_panel_box.geetest_no_logo.geetest_panelshowclick > div.geetest_panel_next > div > div > div.geetest_table_box > div.geetest_window > div > div.geetest_item_wrap > img").src
                        image:document.querySelector("body > div.geetest_panel.geetest_wind > div.geetest_panel_box.geetest_no_logo.geetest_panelshowclick > div.geetest_panel_next > div > div > div.geetest_table_box > div.geetest_window > div > div.geetest_item_wrap").style.backgroundImage.replace('url("','').replace('")','')
                    };
                    xmlhttp.open('POST', url, true);
                    xmlhttp.send(JSON.stringify(data));
                    }
            }),
            document.body.addEventListener("touchmove", function (e) {
                e.preventDefault();
            });

    </script>
</body>

</html>